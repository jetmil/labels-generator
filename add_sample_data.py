#!/usr/bin/env python3
import json
import requests

# API base URL
API_URL = "http://192.168.0.95:8201/api"

# Sample candle data
candles = [
    {
        "category_id": 1,  # Ритуальные свечи
        "name": "Свеча Очищения",
        "tagline": "Для очищения пространства и энергии",
        "description": "Ритуальная свеча белого цвета для глубокого очищения пространства от негативной энергии. Изготовлена из натурального пчелиного воска с добавлением эфирных масел шалфея и лаванды.",
        "practice": "Зажгите свечу в центре помещения. Обойдите по часовой стрелке все углы комнаты, представляя, как белый свет заполняет пространство. Оставьте свечу догорать в безопасном месте.",
        "qr_url": "https://art-svechi.ru/ochishenie",
        "logo_url": "/uploads/logo.png"
    },
    {
        "category_id": 2,  # Громничные свечи
        "name": "Громничная защитная",
        "tagline": "Защита от грозы и бедствий",
        "description": "Традиционная славянская свеча для защиты дома от грозы, пожара и других бедствий. Освящена в день Сретения Господня.",
        "practice": "Зажигайте во время грозы у окна, обращенного к непогоде. Читайте молитву о защите дома. После грозы потушите свечу, сохраните для следующего раза.",
        "qr_url": "https://art-svechi.ru/gromnichnaya",
        "logo_url": "/uploads/logo.png"
    },
    {
        "category_id": 3,  # Чакральные свечи
        "name": "Свеча Анахата",
        "tagline": "Открытие сердечной чакры",
        "description": "Зеленая свеча для работы с сердечной чакрой. Способствует развитию любви, сострадания и эмпатии. Содержит розовое масло и экстракт зеленого чая.",
        "practice": "Медитируйте на пламя свечи, визуализируя зеленый свет в области сердца. Повторяйте мантру ЯМ. Практикуйте 15-20 минут ежедневно.",
        "qr_url": "https://art-svechi.ru/anahata",
        "logo_url": "/uploads/logo.png"
    },
    {
        "category_id": 4,  # Восковые фигуры
        "name": "Ангел-хранитель",
        "tagline": "Фигурная свеча для защиты",
        "description": "Восковая фигурка ангела ручной работы. Создана для постоянной защиты и поддержки. Активируется личной молитвой.",
        "practice": "Подержите фигурку в руках, мысленно обратитесь к своему ангелу-хранителю. Зажгите на 7 минут в день защиты. Можно носить с собой как оберег.",
        "qr_url": "https://art-svechi.ru/angel",
        "logo_url": "/uploads/logo.png"
    },
    {
        "category_id": 5,  # Магические свечи
        "name": "Свеча исполнения желаний",
        "tagline": "Для материализации намерений",
        "description": "Магическая свеча с вложенным пергаментом для записи желания. Усилена кристаллами кварца и лунным маслом.",
        "practice": "В новолуние напишите желание на пергаменте, вложите под свечу. Зажигайте каждый вечер на 15 минут до полнолуния. В полнолуние дайте догореть полностью.",
        "qr_url": "https://art-svechi.ru/wish",
        "logo_url": "/uploads/logo.png"
    },
    {
        "category_id": 6,  # Энергетические свечи
        "name": "Свеча жизненной силы",
        "tagline": "Восстановление энергии",
        "description": "Красная свеча с корицей и имбирем для восстановления жизненных сил и повышения энергетического уровня.",
        "practice": "Зажигайте утром на 10 минут. Делайте энергетическую гимнастику рядом со свечой. Визуализируйте поток красной энергии, входящий через макушку.",
        "qr_url": "https://art-svechi.ru/energy",
        "logo_url": "/uploads/logo.png"
    },
    {
        "category_id": 7,  # Целительные свечи
        "name": "Свеча здоровья",
        "tagline": "Для укрепления здоровья",
        "description": "Целительная свеча с эвкалиптом, мятой и чайным деревом. Способствует выздоровлению и укреплению иммунитета.",
        "practice": "Зажигайте в комнате больного на 30 минут 3 раза в день. Можно добавить каплю эфирного масла на край свечи для усиления эффекта.",
        "qr_url": "https://art-svechi.ru/health",
        "logo_url": "/uploads/logo.png"
    },
    {
        "category_id": 8,  # Защитные свечи
        "name": "Черная защитная",
        "tagline": "Отражение негатива",
        "description": "Черная свеча с солью и полынью для создания защитного барьера от негативных воздействий и энергетических атак.",
        "practice": "Поставьте у входной двери. Зажигайте при ощущении негативного воздействия. Пепел развейте по ветру со словами отпускания негатива.",
        "qr_url": "https://art-svechi.ru/protection",
        "logo_url": "/uploads/logo.png"
    }
]

def add_sample_data():
    print("Добавление примеров свечей в базу данных...")

    for candle in candles:
        response = requests.post(f"{API_URL}/candles", json=candle)
        if response.status_code == 200:
            data = response.json()
            print(f"✓ Добавлена свеча: {data['name']} (ID: {data['id']})")
        else:
            print(f"✗ Ошибка при добавлении свечи {candle['name']}: {response.text}")

    # Create a sample label set
    print("\nСоздание примера набора этикеток...")
    label_set_data = {
        "name": "Тестовый набор этикеток",
        "candle_ids": [1, 2, 3, 4, 5, 6]  # First 6 candles
    }

    response = requests.post(f"{API_URL}/label-sets", json=label_set_data)
    if response.status_code == 200:
        data = response.json()
        print(f"✓ Создан набор этикеток: {data['name']} (ID: {data['id']})")
    else:
        print(f"✗ Ошибка при создании набора: {response.text}")

    print("\n✅ Примеры данных успешно добавлены!")
    print("Теперь вы можете открыть http://192.168.0.95:3200 или http://labels.ligardi.ru для просмотра")

if __name__ == "__main__":
    add_sample_data()